
<!DOCTYPE html>
<html>
	<head>
	<meta charset="UTF-8">
	<title>My geolocation HTML5 and JavaScript Example</title>
	<script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
	<script>	
			$(document).ready(function(){$("button").click(function(){mymap();})});

			//Llamado del geolocation
			function mymap(){
			    navigator.geolocation.getCurrentPosition(traerCoordenadas, error, options);
			}

			var options = {
			  enableHighAccuracy: true,
			  timeout: 5000,
			  maximumAge: 0
			};

			function traerCoordenadas(pos) {
			  var crd = pos.coords;

			  console.log('Esta es tu posicion actual:');
			  console.log('Latitud : ' + crd.latitude);
			  console.log('Longitud: ' + crd.longitude);
			  console.log('Mas o menos ' + crd.accuracy + ' meters.');
			    //Define parte de la url para consultar en google maps
			    var mapURL = "http://maps.google.com/?q=";     

			    //Valida que las coordenadas no sean vacias
			    if(crd.latitude && crd.longitude){ 
			        //Concatena con la url de mapa
			        mapURL = mapURL +  crd.latitude + ',' + crd.longitude;
			    }
			    window.open(mapURL,"myWindow","width=1200,height=600");//Abre una ventana con la url de google maps.
			};

			//Callback function para error
			function error(err) {
			  console.warn('ERROR(' + err.code + '): ' + err.message);
			};
		</script>
	</head>
	<body>
		<button type="button">Click Me!</button>
	</body>

</html>
